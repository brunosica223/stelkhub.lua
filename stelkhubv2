--[[
    STELK HUB - LEAF VILLAGE
    Vers√£o: 6.2 - CORRE√á√ïES
    - Fly com dire√ß√µes corretas
    - Detec√ß√£o de "Star" (S mai√∫sculo)
    - Mundo "Leaf Village"
    - Sistema para 6 estrelas
]]

local player = game.Players.LocalPlayer
local guiService = game:GetService("CoreGui")
local runService = game:GetService("RunService")
local tweenService = game:GetService("TweenService")

-- ================ VARI√ÅVEIS ================

local flyEnabled = false
local bypassActive = false
local spinEnabled = false
local flySpeed = 15
local flyConnection = nil
local spinConnection = nil
local currentWorld = "Leaf Village" -- Padr√£o
local gems = 0
local gold = 0
local selectedStar = nil
local stars = {}
local lastPosition = nil
local positionHistory = {}

-- ================ CORES ================

local colors = {
    background = Color3.fromRGB(10, 10, 15),
    secondary = Color3.fromRGB(20, 20, 30),
    accent = Color3.fromRGB(65, 105, 225),
    accent2 = Color3.fromRGB(147, 112, 219),
    success = Color3.fromRGB(60, 179, 113),
    danger = Color3.fromRGB(220, 20, 60),
    warning = Color3.fromRGB(255, 140, 0),
    gold = Color3.fromRGB(255, 215, 0),
    text = Color3.fromRGB(255, 255, 255),
    textDim = Color3.fromRGB(150, 150, 150)
}

-- ================ DETEC√á√ÉO DE MUNDO ================

local function detectWorld()
    -- Verificar se √© Leaf Village
    for _, obj in ipairs(workspace:GetDescendants()) do
        local name = obj.Name:lower()
        if name:find("leaf") or name:find("village") or name:find("konoha") then
            return "üçÉ Leaf Village", colors.success
        end
    end
    return "üçÉ Leaf Village", colors.success -- Padr√£o
end

-- ================ DETEC√á√ÉO DE GEMS E GOLD ================

local function getGemsAndGold()
    gems = 0
    gold = 0

    if player:FindFirstChild("leaderstats") then
        for _, child in ipairs(player.leaderstats:GetChildren()) do
            local name = child.Name:lower()
            if name:find("gem") or name:find("gema") or name:find("diamond") then
                gems = child.Value or 0
            elseif name:find("gold") or name:find("ouro") or name:find("coin") then
                gold = child.Value or 0
            end
        end
    end

    for _, obj in ipairs(player:GetChildren()) do
        if obj:IsA("NumberValue") then
            local name = obj.Name:lower()
            if name:find("gem") then gems = obj.Value end
            if name:find("gold") then gold = obj.Value end
        end
    end

    return gems, gold
end

-- ================ SISTEMA DE STARS ================

local function findStars()
    local found = {}
    
    -- Procurar por "Star" com S mai√∫sculo (e varia√ß√µes)
    for _, obj in ipairs(workspace:GetDescendants()) do
        -- Verificar nome exato "Star" ou come√ßa com "Star"
        if obj.Name == "Star" or obj.Name:sub(1,4) == "Star" then
            if obj:IsA("BasePart") or obj:IsA("Model") then
                table.insert(found, obj)
            end
        end
        
        -- Verificar ClickDetectors com pais chamado Star
        if obj:IsA("ClickDetector") and obj.Parent then
            if obj.Parent.Name == "Star" or obj.Parent.Name:sub(1,4) == "Star" then
                table.insert(found, obj.Parent)
            end
        end
    end
    
    -- Limitar a 6 estrelas
    local limited = {}
    for i = 1, math.min(6, #found) do
        table.insert(limited, found[i])
    end
    
    return limited
end

local function spinStar(star)
    if not star then return false end

    -- M√©todo 1: ClickDetector
    local detector = star:FindFirstChildOfClass("ClickDetector")
    if detector then
        fireclickdetector(detector)
        return true
    end

    -- M√©todo 2: ProximityPrompt
    local prompt = star:FindFirstChildOfClass("ProximityPrompt")
    if prompt then
        prompt:InputHoldBegin()
        task.wait(0.1)
        prompt:InputHoldEnd()
        return true
    end

    -- M√©todo 3: TouchInterest
    local touch = star:FindFirstChildOfClass("TouchTransmitter")
    if touch and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        firetouchinterest(player.Character.HumanoidRootPart, star, 0)
        task.wait(0.1)
        firetouchinterest(player.Character.HumanoidRootPart, star, 1)
        return true
    end

    return false
end

-- ================ FLY CORRIGIDO (DIRE√á√ïES CERTAS) ================

local function toggleFly()
    if flyEnabled then
        if flyConnection then
            flyConnection:Disconnect()
            flyConnection = nil
        end

        if player.Character then
            local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
                humanoid.PlatformStand = false
            end
        end

        flyEnabled = false
        return
    end

    flyEnabled = true
    lastPosition = nil
    positionHistory = {}

    flyConnection = runService.Heartbeat:Connect(function(dt)
        if not flyEnabled or not player.Character then return end

        local root = player.Character:FindFirstChild("HumanoidRootPart")
        local humanoid = player.Character:FindFirstChildOfClass("Humanoid")

        if not root or not humanoid then return end

        humanoid.PlatformStand = true
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)

        -- PEGAR DIRE√á√ÉO DO JOYSTICK (CORRIGIDO)
        local moveDir = humanoid.MoveDirection
        local camera = workspace.CurrentCamera

        if moveDir.Magnitude > 0.1 then
            -- CORRE√á√ÉO: Agora as dire√ß√µes est√£o certas!
            -- Frente: moveDir.Z positivo = LookVector
            -- Tr√°s: moveDir.Z negativo = -LookVector
            -- Direita: moveDir.X positivo = RightVector
            -- Esquerda: moveDir.X negativo = -RightVector
            -- Cima: moveDir.Y positivo = UP (verdadeiro)
            -- Baixo: moveDir.Y negativo = -UP
            
            local forward = camera.CFrame.LookVector * moveDir.Z
            local right = camera.CFrame.RightVector * moveDir.X
            local up = camera.CFrame.UpVector * moveDir.Y -- AGORA USA UpVector, n√£o Vector3.new(0, moveDir.Y, 0)
            
            -- Combinar vetores
            local moveVector = forward + right + up
            
            -- Normalizar e aplicar velocidade
            if moveVector.Magnitude > 0 then
                moveVector = moveVector.Unit * flySpeed * dt * 20
                root.CFrame = root.CFrame + moveVector
            end
        end

        -- Neutralizar gravidade (sempre um pouco para cima)
        root.CFrame = root.CFrame + Vector3.new(0, 0.15, 0)

        -- Anti-kick: limitar velocidade
        if root.Velocity then
            root.Velocity = Vector3.new(
                math.clamp(root.Velocity.X, -50, 50),
                math.clamp(root.Velocity.Y, -50, 50),
                math.clamp(root.Velocity.Z, -50, 50)
            )
        end

        -- Hist√≥rico de posi√ß√£o
        table.insert(positionHistory, root.Position)
        if #positionHistory > 10 then
            table.remove(positionHistory, 1)
        end
    end)
end

-- ================ BYPASS ================

local function toggleBypass()
    if bypassActive then
        bypassActive = false
        return
    end

    bypassActive = true

    pcall(function()
        local mt = getrawmetatable and getrawmetatable(game) or getmetatable(game)
        if mt then
            local oldNamecall = mt.__namecall
            setreadonly(mt, false)

            mt.__namecall = newcclosure(function(self, ...)
                local method = getnamecallmethod()

                if method == "FireServer" then
                    local remoteName = tostring(self):lower()
                    if remoteName:find("anticheat") or remoteName:find("gravity") or remoteName:find("position") then
                        return
                    end
                end

                return oldNamecall(self, ...)
            end)

            setreadonly(mt, true)
        end

        local connections = getconnections and getconnections(game:GetService("ScriptContext").Error) or {}
        for _, conn in ipairs(connections) do
            conn:Disable()
        end
    end)
end

-- ================ CRIAR GUI ================

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "StelkHub"
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local mainFrame = Instance.new("Frame")
mainFrame.Parent = screenGui
mainFrame.BackgroundColor3 = colors.background
mainFrame.BorderSizePixel = 0
mainFrame.Size = UDim2.new(0, 400, 0, 500)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -250)
mainFrame.Active = true
mainFrame.Draggable = true

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 15)
mainCorner.Parent = mainFrame

-- Top Bar
local topBar = Instance.new("Frame")
topBar.Parent = mainFrame
topBar.BackgroundColor3 = colors.secondary
topBar.Size = UDim2.new(1, 0, 0, 50)

local topCorner = Instance.new("UICorner")
topCorner.CornerRadius = UDim.new(0, 15)
topCorner.Parent = topBar

local title = Instance.new("TextLabel")
title.Parent = topBar
title.BackgroundTransparency = 1
title.Size = UDim2.new(0, 200, 1, 0)
title.Position = UDim2.new(0, 15, 0, 0)
title.Text = "STELK HUB"
title.TextColor3 = colors.text
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextXAlignment = Enum.TextXAlignment.Left

-- Bot√£o fechar
local closeBtn = Instance.new("TextButton")
closeBtn.Parent = topBar
closeBtn.BackgroundColor3 = colors.danger
closeBtn.Size = UDim2.new(0, 25, 0, 25)
closeBtn.Position = UDim2.new(1, -35, 0.5, -12.5)
closeBtn.Text = "X"
closeBtn.TextColor3 = colors.text
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 16

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 6)
closeCorner.Parent = closeBtn

-- Abas
local tabFrame = Instance.new("Frame")
tabFrame.Parent = mainFrame
tabFrame.BackgroundColor3 = colors.secondary
tabFrame.Size = UDim2.new(1, 0, 0, 40)
tabFrame.Position = UDim2.new(0, 0, 0, 50)

local function createTab(name, pos)
    local btn = Instance.new("TextButton")
    btn.Parent = tabFrame
    btn.BackgroundColor3 = colors.secondary
    btn.Size = UDim2.new(0, 70, 0, 30)
    btn.Position = UDim2.new(0, pos, 0.5, -15)
    btn.Text = name
    btn.TextColor3 = colors.textDim
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = btn

    return btn
end

local tab1 = createTab("IN√çCIO", 10)
local tab2 = createTab("STARS", 90)
local tab3 = createTab("FLY", 170)
local tab4 = createTab("BYPASS", 250)
local tab5 = createTab("CR√âDITOS", 330)

-- Conte√∫do
local content = Instance.new("Frame")
content.Parent = mainFrame
content.BackgroundColor3 = colors.background
content.Size = UDim2.new(1, 0, 1, -90)
content.Position = UDim2.new(0, 0, 0, 90)

-- ================ P√ÅGINA 1: IN√çCIO ================

local page1 = Instance.new("Frame")
page1.Parent = content
page1.BackgroundTransparency = 1
page1.Size = UDim2.new(1, 0, 1, 0)
page1.Visible = true

-- Card do Mundo
local worldCard = Instance.new("Frame")
worldCard.Parent = page1
worldCard.BackgroundColor3 = colors.secondary
worldCard.Size = UDim2.new(0, 360, 0, 70)
worldCard.Position = UDim2.new(0.5, -180, 0, 15)

local worldCorner = Instance.new("UICorner")
worldCorner.CornerRadius = UDim.new(0, 10)
worldCorner.Parent = worldCard

local worldIcon = Instance.new("TextLabel")
worldIcon.Parent = worldCard
worldIcon.BackgroundTransparency = 1
worldIcon.Size = UDim2.new(0, 40, 1, 0)
worldIcon.Position = UDim2.new(0, 10, 0, 0)
worldIcon.Text = "üçÉ"
worldIcon.TextColor3 = colors.text
worldIcon.Font = Enum.Font.GothamBold
worldIcon.TextSize = 30

local worldName = Instance.new("TextLabel")
worldName.Parent = worldCard
worldName.BackgroundTransparency = 1
worldName.Size = UDim2.new(0, 250, 0, 25)
worldName.Position = UDim2.new(0, 60, 0, 10)
worldName.Text = "Leaf Village"
worldName.TextColor3 = colors.success
worldName.Font = Enum.Font.GothamBold
worldName.TextSize = 18
worldName.TextXAlignment = Enum.TextXAlignment.Left

local worldStatus = Instance.new("TextLabel")
worldStatus.Parent = worldCard
worldStatus.BackgroundTransparency = 1
worldStatus.Size = UDim2.new(0, 250, 0, 20)
worldStatus.Position = UDim2.new(0, 60, 0, 40)
worldStatus.Text = "Detectado automaticamente"
worldStatus.TextColor3 = colors.textDim
worldStatus.Font = Enum.Font.Gotham
worldStatus.TextSize = 12
worldStatus.TextXAlignment = Enum.TextXAlignment.Left

-- Card de Recursos
local resourcesCard = Instance.new("Frame")
resourcesCard.Parent = page1
resourcesCard.BackgroundColor3 = colors.secondary
resourcesCard.Size = UDim2.new(0, 360, 0, 80)
resourcesCard.Position = UDim2.new(0.5, -180, 0, 100)

local resourcesCorner = Instance.new("UICorner")
resourcesCorner.CornerRadius = UDim.new(0, 10)
resourcesCorner.Parent = resourcesCard

-- Gems
local gemsFrame = Instance.new("Frame")
gemsFrame.Parent = resourcesCard
gemsFrame.BackgroundColor3 = colors.background
gemsFrame.Size = UDim2.new(0, 160, 0, 50)
gemsFrame.Position = UDim2.new(0, 15, 0, 15)

local gemsCorner = Instance.new("UICorner")
gemsCorner.CornerRadius = UDim.new(0, 8)
gemsCorner.Parent = gemsFrame

local gemsIcon = Instance.new("TextLabel")
gemsIcon.Parent = gemsFrame
gemsIcon.BackgroundTransparency = 1
gemsIcon.Size = UDim2.new(0, 30, 1, 0)
gemsIcon.Position = UDim2.new(0, 5, 0, 0)
gemsIcon.Text = "üíé"
gemsIcon.TextColor3 = colors.text
gemsIcon.Font = Enum.Font.GothamBold
gemsIcon.TextSize = 20

local gemsLabel = Instance.new("TextLabel")
gemsLabel.Parent = gemsFrame
gemsLabel.BackgroundTransparency = 1
gemsLabel.Size = UDim2.new(0, 60, 0, 20)
gemsLabel.Position = UDim2.new(0, 40, 0, 5)
gemsLabel.Text = "GEMS"
gemsLabel.TextColor3 = colors.textDim
gemsLabel.Font = Enum.Font.Gotham
gemsLabel.TextSize = 10
gemsLabel.TextXAlignment = Enum.TextXAlignment.Left

local gemsValue = Instance.new("TextLabel")
gemsValue.Parent = gemsFrame
gemsValue.BackgroundTransparency = 1
gemsValue.Size = UDim2.new(0, 80, 0, 20)
gemsValue.Position = UDim2.new(0, 40, 0, 25)
gemsValue.Text = "0"
gemsValue.TextColor3 = colors.accent
gemsValue.Font = Enum.Font.GothamBold
gemsValue.TextSize = 16
gemsValue.TextXAlignment = Enum.TextXAlignment.Left

-- Gold
local goldFrame = Instance.new("Frame")
goldFrame.Parent = resourcesCard
goldFrame.BackgroundColor3 = colors.background
goldFrame.Size = UDim2.new(0, 160, 0, 50)
goldFrame.Position = UDim2.new(1, -175, 0, 15)

local goldCorner = Instance.new("UICorner")
goldCorner.CornerRadius = UDim.new(0, 8)
goldCorner.Parent = goldFrame

local goldIcon = Instance.new("TextLabel")
goldIcon.Parent = goldFrame
goldIcon.BackgroundTransparency = 1
goldIcon.Size = UDim2.new(0, 30, 1, 0)
goldIcon.Position = UDim2.new(0, 5, 0, 0)
goldIcon.Text = "ü™ô"
goldIcon.TextColor3 = colors.gold
goldIcon.Font = Enum.Font.GothamBold
goldIcon.TextSize = 20

local goldLabel = Instance.new("TextLabel")
goldLabel.Parent = goldFrame
goldLabel.BackgroundTransparency = 1
goldLabel.Size = UDim2.new(0, 60, 0, 20)
goldLabel.Position = UDim2.new(0, 40, 0, 5)
goldLabel.Text = "GOLD"
goldLabel.TextColor3 = colors.textDim
goldLabel.Font = Enum.Font.Gotham
goldLabel.TextSize = 10
goldLabel.TextXAlignment = Enum.TextXAlignment.Left

local goldValue = Instance.new("TextLabel")
goldValue.Parent = goldFrame
goldValue.BackgroundTransparency = 1
goldValue.Size = UDim2.new(0, 80, 0, 20)
goldValue.Position = UDim2.new(0, 40, 0, 25)
goldValue.Text = "0"
goldValue.TextColor3 = colors.gold
goldValue.Font = Enum.Font.GothamBold
goldValue.TextSize = 16
goldValue.TextXAlignment = Enum.TextXAlignment.Left

-- Bot√µes de A√ß√£o
local actionsFrame = Instance.new("Frame")
actionsFrame.Parent = page1
actionsFrame.BackgroundTransparency = 1
actionsFrame.Size = UDim2.new(0, 360, 0, 150)
actionsFrame.Position = UDim2.new(0.5, -180, 0, 200)

local function createActionButton(name, posX, posY, color)
    local btn = Instance.new("TextButton")
    btn.Parent = actionsFrame
    btn.BackgroundColor3 = color or colors.secondary
    btn.Size = UDim2.new(0, 110, 0, 35)
    btn.Position = UDim2.new(0, posX, 0, posY)
    btn.Text = name
    btn.TextColor3 = colors.text
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 12

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 6)
    btnCorner.Parent = btn

    return btn
end

local verifyBtn = createActionButton("VERIFY", 0, 0, colors.accent)
local mountsBtn = createActionButton("MOUNTS", 125, 0, colors.accent2)
local questBtn = createActionButton("QUEST", 250, 0, colors.warning)

local settingsBtn = createActionButton("SETTINGS", 0, 45, colors.secondary)
local codesBtn = createActionButton("CODES", 125, 45, colors.secondary)
local profileBtn = createActionButton("PROFILE", 250, 45, colors.secondary)

local teleportBtn = createActionButton("TELEPORT", 0, 90, colors.success)
local shopBtn = createActionButton("SHOP", 125, 90, colors.success)
local dailyBtn = createActionButton("DAILY", 250, 90, colors.success)

-- ================ P√ÅGINA 2: STARS ================

local page2 = Instance.new("Frame")
page2.Parent = content
page2.BackgroundTransparency = 1
page2.Size = UDim2.new(1, 0, 1, 0)
page2.Visible = false

local starsTitle = Instance.new("TextLabel")
starsTitle.Parent = page2
starsTitle.BackgroundTransparency = 1
starsTitle.Size = UDim2.new(1, -20, 0, 30)
starsTitle.Position = UDim2.new(0, 10, 0, 10)
starsTitle.Text = "‚≠ê STARS SYSTEM (M√°x 6)"
starsTitle.TextColor3 = colors.gold
starsTitle.Font = Enum.Font.GothamBold
starsTitle.TextSize = 20
starsTitle.TextXAlignment = Enum.TextXAlignment.Left

local starsList = Instance.new("TextLabel")
starsList.Parent = page2
starsList.BackgroundColor3 = colors.secondary
starsList.Size = UDim2.new(0, 360, 0, 150)
starsList.Position = UDim2.new(0.5, -180, 0, 50)
starsList.Text = "Procurando Stars...\n\nAguardando detec√ß√£o..."
starsList.TextColor3 = colors.textDim
starsList.Font = Enum.Font.Gotham
starsList.TextSize = 12
starsList.TextWrapped = true
starsList.TextXAlignment = Enum.TextXAlignment.Left
starsList.TextYAlignment = Enum.TextYAlignment.Top

local starsCorner = Instance.new("UICorner")
starsCorner.CornerRadius = UDim.new(0, 10)
starsCorner.Parent = starsList

local refreshStarsBtn = Instance.new("TextButton")
refreshStarsBtn.Parent = page2
refreshStarsBtn.BackgroundColor3 = colors.accent
refreshStarsBtn.Size = UDim2.new(0, 110, 0, 35)
refreshStarsBtn.Position = UDim2.new(0.5, -170, 0, 215)
refreshStarsBtn.Text = "üîÑ ATUALIZAR"
refreshStarsBtn.TextColor3 = colors.text
refreshStarsBtn.Font = Enum.Font.GothamBold
refreshStarsBtn.TextSize = 12

local refreshCorner = Instance.new("UICorner")
refreshCorner.CornerRadius = UDim.new(0, 6)
refreshCorner.Parent = refreshStarsBtn

local spinStarBtn = Instance.new("TextButton")
spinStarBtn.Parent = page2
spinStarBtn.BackgroundColor3 = colors.success
spinStarBtn.Size = UDim2.new(0, 110, 0, 35)
spinStarBtn.Position = UDim2.new(0.5, -55, 0, 215)
spinStarBtn.Text = "üéØ GIRAR #1"
spinStarBtn.TextColor3 = colors.text
spinStarBtn.Font = Enum.Font.GothamBold
spinStarBtn.TextSize = 12

local spinCorner = Instance.new("UICorner")
spinCorner.CornerRadius = UDim.new(0, 6)
spinCorner.Parent = spinStarBtn

local autoSpinBtn = Instance.new("TextButton")
autoSpinBtn.Parent = page2
autoSpinBtn.BackgroundColor3 = colors.secondary
autoSpinBtn.Size = UDim2.new(0, 110, 0, 35)
autoSpinBtn.Position = UDim2.new(0.5, 60, 0, 215)
autoSpinBtn.Text = "‚ö° AUTO SPIN"
autoSpinBtn.TextColor3 = colors.text
autoSpinBtn.Font = Enum.Font.GothamBold
autoSpinBtn.TextSize = 12

local autoCorner = Instance.new("UICorner")
autoCorner.CornerRadius = UDim.new(0, 6)
autoCorner.Parent = autoSpinBtn

local starInfo = Instance.new("TextLabel")
starInfo.Parent = page2
starInfo.BackgroundColor3 = colors.secondary
starInfo.Size = UDim2.new(0, 360, 0, 40)
starInfo.Position = UDim2.new(0.5, -180, 0, 270)
starInfo.Text = "Selecione uma Star para girar"
starInfo.TextColor3 = colors.textDim
starInfo.Font = Enum.Font.Gotham
starInfo.TextSize = 12

local infoCorner = Instance.new("UICorner")
infoCorner.CornerRadius = UDim.new(0, 8)
infoCorner.Parent = starInfo

-- ================ P√ÅGINA 3: FLY (CORRIGIDO) ================

local page3 = Instance.new("Frame")
page3.Parent = content
page3.BackgroundTransparency = 1
page3.Size = UDim2.new(1, 0, 1, 0)
page3.Visible = false

local flyTitle = Instance.new("TextLabel")
flyTitle.Parent = page3
flyTitle.BackgroundTransparency = 1
flyTitle.Size = UDim2.new(1, -20, 0, 30)
flyTitle.Position = UDim2.new(0, 10, 0, 10)
flyTitle.Text = "‚úàÔ∏è FLY MODE (CORRIGIDO)"
flyTitle.TextColor3 = colors.accent
flyTitle.Font = Enum.Font.GothamBold
flyTitle.TextSize = 20
flyTitle.TextXAlignment = Enum.TextXAlignment.Left

local flyCard = Instance.new("Frame")
flyCard.Parent = page3
flyCard.BackgroundColor3 = colors.secondary
flyCard.Size = UDim2.new(0, 360, 0, 200)
flyCard.Position = UDim2.new(0.5, -180, 0, 50)

local flyCardCorner = Instance.new("UICorner")
flyCardCorner.CornerRadius = UDim.new(0, 10)
flyCardCorner.Parent = flyCard

local flyInstructions = Instance.new("TextLabel")
flyInstructions.Parent = flyCard
flyInstructions.BackgroundTransparency = 1
flyInstructions.Size = UDim2.new(1, -20, 0, 40)
flyInstructions.Position = UDim2.new(0, 10, 0, 10)
flyInstructions.Text = "‚úÖ DIRE√á√ïES CORRIGIDAS!\nJoystick ‚Üë = sobe | Joystick ‚Üì = desce"
flyInstructions.TextColor3 = colors.success
flyInstructions.Font = Enum.Font.GothamBold
flyInstructions.TextSize = 12
flyInstructions.TextWrapped = true
flyInstructions.TextXAlignment = Enum.TextXAlignment.Left

local flyToggleBtn = Instance.new("TextButton")
flyToggleBtn.Parent = flyCard
flyToggleBtn.BackgroundColor3 = colors.secondary
flyToggleBtn.Size = UDim2.new(0, 160, 0, 40)
flyToggleBtn.Position = UDim2.new(0.5, -80, 0, 60)
flyToggleBtn.Text = "ATIVAR FLY"
flyToggleBtn.TextColor3 = colors.text
flyToggleBtn.Font = Enum.Font.GothamBold
flyToggleBtn.TextSize = 14

local flyToggleCorner = Instance.new("UICorner")
flyToggleCorner.CornerRadius = UDim.new(0, 8)
flyToggleCorner.Parent = flyToggleBtn

local speedLabel = Instance.new("TextLabel")
speedLabel.Parent = flyCard
speedLabel.BackgroundTransparency = 1
speedLabel.Size = UDim2.new(0, 160, 0, 20)
speedLabel.Position = UDim2.new(0.5, -80, 0, 110)
speedLabel.Text = "Velocidade: 15"
speedLabel.TextColor3 = colors.text
speedLabel.Font = Enum.Font.Gotham
speedLabel.TextSize = 14

local speedControl = Instance.new("Frame")
speedControl.Parent = flyCard
speedControl.BackgroundColor3 = colors.background
speedControl.Size = UDim2.new(0, 160, 0, 30)
speedControl.Position = UDim2.new(0.5, -80, 0, 135)

local speedControlCorner = Instance.new("UICorner")
speedControlCorner.CornerRadius = UDim.new(0, 6)
speedControlCorner.Parent = speedControl

local speedMinus = Instance.new("TextButton")
speedMinus.Parent = speedControl
speedMinus.BackgroundColor3 = colors.danger
speedMinus.Size = UDim2.new(0, 30, 0, 20)
speedMinus.Position = UDim2.new(0, 5, 0.5, -10)
speedMinus.Text = "-"
speedMinus.TextColor3 = colors.text
speedMinus.Font = Enum.Font.GothamBold
speedMinus.TextSize = 16

local speedMinusCorner = Instance.new("UICorner")
speedMinusCorner.CornerRadius = UDim.new(0, 4)
speedMinusCorner.Parent = speedMinus

local speedValue = Instance.new("TextLabel")
speedValue.Parent = speedControl
speedValue.BackgroundColor3 = colors.secondary
speedValue.Size = UDim2.new(0, 50, 0, 20)
speedValue.Position = UDim2.new(0.5, -25, 0.5, -10)
speedValue.Text = "15"
speedValue.TextColor3 = colors.text
speedValue.Font = Enum.Font.GothamBold
speedValue.TextSize = 14

local speedValueCorner = Instance.new("UICorner")
speedValueCorner.CornerRadius = UDim.new(0, 4)
speedValueCorner.Parent = speedValue

local speedPlus = Instance.new("TextButton")
speedPlus.Parent = speedControl
speedPlus.BackgroundColor3 = colors.success
speedPlus.Size = UDim2.new(0, 30, 0, 20)
speedPlus.Position = UDim2.new(1, -35, 0.5, -10)
speedPlus.Text = "+"
speedPlus.TextColor3 = colors.text
speedPlus.Font = Enum.Font.GothamBold
speedPlus.TextSize = 16

local speedPlusCorner = Instance.new("UICorner")
speedPlusCorner.CornerRadius = UDim.new(0, 4)
speedPlusCorner.Parent = speedPlus

local flyWarning = Instance.new("TextLabel")
flyWarning.Parent = flyCard
flyWarning.BackgroundTransparency = 1
flyWarning.Size = UDim2.new(1, -20, 0, 20)
flyWarning.Position = UDim2.new(0, 10, 0, 175)
flyWarning.Text = "‚ö†Ô∏è Use com modera√ß√£o para evitar kick"
flyWarning.TextColor3 = colors.warning
flyWarning.Font = Enum.Font.Gotham
flyWarning.TextSize = 10
flyWarning.TextXAlignment = Enum.TextXAlignment.Left

-- ================ P√ÅGINA 4: BYPASS ================

local page4 = Instance.new("Frame")
page4.Parent = content
page4.BackgroundTransparency = 1
page4.Size = UDim2.new(1, 0, 1, 0)
page4.Visible = false

local bypassTitle = Instance.new("TextLabel")
bypassTitle.Parent = page4
bypassTitle.BackgroundTransparency = 1
bypassTitle.Size = UDim2.new(1, -20, 0, 30)
bypassTitle.Position = UDim2.new(0, 10, 0, 10)
bypassTitle.Text = "üõ°Ô∏è BYPASS ANTI-CHEAT"
bypassTitle.TextColor3 = colors.accent2
bypassTitle.Font = Enum.Font.GothamBold
bypassTitle.TextSize = 20
bypassTitle.TextXAlignment = Enum.TextXAlignment.Left

local bypassCard = Instance.new("Frame")
bypassCard.Parent = page4
bypassCard.BackgroundColor3 = colors.secondary
bypassCard.Size = UDim2.new(0, 360, 0, 180)
bypassCard.Position = UDim2.new(0.5, -180, 0, 50)

local bypassCardCorner = Instance.new("UICorner")
bypassCardCorner.CornerRadius = UDim.new(0, 10)
bypassCardCorner.Parent = bypassCard

local bypassInfo = Instance.new("TextLabel")
bypassInfo.Parent = bypassCard
bypassInfo.BackgroundTransparency = 1
bypassInfo.Size = UDim2.new(1, -20, 0, 60)
bypassInfo.Position = UDim2.new(0, 10, 0, 10)
bypassInfo.Text = "‚úì Bloqueia detec√ß√£o de anti-cheat\n‚úì Spoof de gravidade\n‚úì Prote√ß√£o contra kick\n‚úì Desativa remotes suspeitos"
bypassInfo.TextColor3 = colors.success
bypassInfo.Font = Enum.Font.Gotham
bypassInfo.TextSize = 12
bypassInfo.TextXAlignment = Enum.TextXAlignment.Left

local bypassToggleBtn = Instance.new("TextButton")
bypassToggleBtn.Parent = bypassCard
bypassToggleBtn.BackgroundColor3 = colors.accent2
bypassToggleBtn.Size = UDim2.new(0, 160, 0, 40)
bypassToggleBtn.Position = UDim2.new(0.5, -80, 0, 80)
bypassToggleBtn.Text = "ATIVAR BYPASS"
bypassToggleBtn.TextColor3 = colors.text
bypassToggleBtn.Font = Enum.Font.GothamBold
bypassToggleBtn.TextSize = 14

local bypassToggleCorner = Instance.new("UICorner")
bypassToggleCorner.CornerRadius = UDim.new(0, 8)
bypassToggleCorner.Parent = bypassToggleBtn

local bypassStatus = Instance.new("TextLabel")
bypassStatus.Parent = bypassCard
bypassStatus.BackgroundColor3 = colors.background
bypassStatus.Size = UDim2.new(0, 320, 0, 30)
bypassStatus.Position = UDim2.new(0.5, -160, 0, 130)
bypassStatus.Text = "Status: Inativo"
bypassStatus.TextColor3 = colors.textDim
bypassStatus.Font = Enum.Font.Gotham
bypassStatus.TextSize = 12

local bypassStatusCorner = Instance.new("UICorner")
bypassStatusCorner.CornerRadius = UDim.new(0, 6)
bypassStatusCorner.Parent = bypassStatus

-- ================ P√ÅGINA 5: CR√âDITOS ================

local page5 = Instance.new("Frame")
page5.Parent = content
page5.BackgroundTransparency = 1
page5.Size = UDim2.new(1, 0, 1, 0)
page5.Visible = false

local creditsTitle = Instance.new("TextLabel")
creditsTitle.Parent = page5
creditsTitle.BackgroundTransparency = 1
creditsTitle.Size = UDim2.new(1, -20, 0, 30)
creditsTitle.Position = UDim2.new(0, 10, 0, 10)
creditsTitle.Text = "üëë CR√âDITOS"
creditsTitle.TextColor3 = colors.gold
creditsTitle.Font = Enum.Font.GothamBold
creditsTitle.TextSize = 20
creditsTitle.TextXAlignment = Enum.TextXAlignment.Left

local creditsCard = Instance.new("Frame")
creditsCard.Parent = page5
creditsCard.BackgroundColor3 = colors.secondary
creditsCard.Size = UDim2.new(0, 360, 0, 250)
creditsCard.Position = UDim2.new(0.5, -180, 0, 50)

local creditsCardCorner = Instance.new("UICorner")
creditsCardCorner.CornerRadius = UDim.new(0, 15)
creditsCardCorner.Parent = creditsCard

-- Avatar
local avatar = Instance.new("Frame")
avatar.Parent = creditsCard
avatar.BackgroundColor3 = colors.accent
avatar.Size = UDim2.new(0, 80, 0, 80)
avatar.Position = UDim2.new(0.5, -40, 0, 20)

local avatarCorner = Instance.new("UICorner")
avatarCorner.CornerRadius = UDim.new(1, 0)
avatarCorner.Parent = avatar

local avatarText = Instance.new("TextLabel")
avatarText.Parent = avatar
avatarText.BackgroundTransparency = 1
avatarText.Size = UDim2.new(1, 0, 1, 0)
avatarText.Text = "S"
avatarText.TextColor3 = colors.text
avatarText.Font = Enum.Font.GothamBold
avatarText.TextSize = 40

-- Nome do Criador
local creatorName = Instance.new("TextLabel")
creatorName.Parent = creditsCard
creatorName.BackgroundTransparency = 1
creatorName.Size = UDim2.new(1, 0, 0, 30)
creatorName.Position = UDim2.new(0, 0, 0, 110)
creatorName.Text = "STELK"
creatorName.TextColor3 = colors.text
creatorName.Font = Enum.Font.GothamBold
creatorName.TextSize = 24

local creatorRole = Instance.new("TextLabel")
creatorRole.Parent = creditsCard
creatorRole.BackgroundTransparency = 1
creatorRole.Size = UDim2.new(1, 0, 0, 20)
creatorRole.Position = UDim2.new(0, 0, 0, 140)
creatorRole.Text = "Desenvolvedor & Designer"
creatorRole.TextColor3 = colors.textDim
creatorRole.Font = Enum.Font.Gotham
creatorRole.TextSize = 12

-- Linha divis√≥ria
local divider = Instance.new("Frame")
divider.Parent = creditsCard
divider.BackgroundColor3 = colors.background
divider.Size = UDim2.new(0, 300, 0, 1)
divider.Position = UDim2.new(0.5, -150, 0, 170)

-- Vers√£o
local version = Instance.new("TextLabel")
version.Parent = creditsCard
version.BackgroundTransparency = 1
version.Size = UDim2.new(0, 200, 0, 20)
version.Position = UDim2.new(0.5, -100, 0, 180)
version.Text = "Vers√£o 6.2 - Leaf Village"
version.TextColor3 = colors.textDim
version.Font = Enum.Font.Gotham
version.TextSize = 12

local date = Instance.new("TextLabel")
date.Parent = creditsCard
date.BackgroundTransparency = 1
date.Size = UDim2.new(0, 200, 0, 20)
date.Position = UDim2.new(0.5, -100, 0, 200)
date.Text = "Fevereiro 2026"
date.TextColor3 = colors.textDim
date.Font = Enum.Font.Gotham
date.TextSize = 12

-- ================ FUN√á√ïES DE NAVEGA√á√ÉO ================

local function switchPage(page)
    page1.Visible = (page == 1)
    page2.Visible = (page == 2)
    page3.Visible = (page == 3)
    page4.Visible = (page == 4)
    page5.Visible = (page == 5)

    local tabs = {tab1, tab2, tab3, tab4, tab5}
    for i = 1, 5 do
        if i == page then
            tabs[i].TextColor3 = colors.accent
            tabs[i].BackgroundColor3 = colors.background
        else
            tabs[i].TextColor3 = colors.textDim
            tabs[i].BackgroundColor3 = colors.secondary
        end
    end
end

tab1.MouseButton1Click:Connect(function() switchPage(1) end)
tab2.MouseButton1Click:Connect(function() switchPage(2) end)
tab3.MouseButton1Click:Connect(function() switchPage(3) end)
tab4.MouseButton1Click:Connect(function() switchPage(4) end)
tab5.MouseButton1Click:Connect(function() switchPage(5) end)

-- ================ FUN√á√ïES DOS BOT√ïES ================

local function updateHomePage()
    local world, color = detectWorld()
    worldName.Text = world
    worldName.TextColor3 = color

    gems, gold = getGemsAndGold()
    gemsValue.Text = tostring(gems)
    goldValue.Text = tostring(gold)
end

local function updateStarsList()
    stars = findStars()
    local text = "STARS ENCONTRADAS: " .. #stars .. "/6\n\n"

    if #stars == 0 then
        text = text .. "Nenhuma Star encontrada.\n\nProcure por objetos chamados:\n'Star' (com S mai√∫sculo)"
    else
        for i, star in ipairs(stars) do
            local dist = "?"
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local root = player.Character.HumanoidRootPart
                dist = math.floor((root.Position - star.Position).Magnitude) .. "m"
            end
            text = text .. i .. ". " .. star.Name .. " [" .. dist .. "]\n"
        end
        selectedStar = stars[1]
        spinStarBtn.Text = "üéØ GIRAR " .. stars[1].Name
        starInfo.Text = "Selecionada: " .. stars[1].Name
    end

    starsList.Text = text
end

-- Bot√µes da Home
verifyBtn.MouseButton1Click:Connect(function() print("Verify clicado") end)
mountsBtn.MouseButton1Click:Connect(function() print("Mounts clicado") end)
questBtn.MouseButton1Click:Connect(function() print("Quest clicado") end)
settingsBtn.MouseButton1Click:Connect(function() print("Settings clicado") end)
codesBtn.MouseButton1Click:Connect(function() print("Codes clicado") end)
profileBtn.MouseButton1Click:Connect(function() print("Profile clicado") end)
teleportBtn.MouseButton1Click:Connect(function() print("Teleport clicado") end)
shopBtn.MouseButton1Click:Connect(function() print("Shop clicado") end)
dailyBtn.MouseButton1Click:Connect(function() print("Daily clicado") end)

-- Bot√µes das Stars
refreshStarsBtn.MouseButton1Click:Connect(updateStarsList)

spinStarBtn.MouseButton1Click:Connect(function()
    if selectedStar and selectedStar.Parent then
        if spinStar(selectedStar) then
            starsList.Text = "‚úÖ GIRADO: " .. selectedStar.Name .. "\n\n" .. starsList.Text
        else
            starsList.Text = "‚ùå FALHOU: " .. selectedStar.Name .. "\n\n" .. starsList.Text
        end
    else
        updateStarsList()
    end
end)

autoSpinBtn.MouseButton1Click:Connect(function()
    spinEnabled = not spinEnabled
    if spinEnabled then
        autoSpinBtn.Text = "‚èπÔ∏è PARAR SPIN"
        autoSpinBtn.BackgroundColor3 = colors.danger

        task.spawn(function()
            while spinEnabled do
                local currentStars = findStars()
                for _, star in ipairs(currentStars) do
                    spinStar(star)
                    task.wait(0.3)
                end
                task.wait(0.5)
            end
        end)
    else
        autoSpinBtn.Text = "‚ö° AUTO SPIN"
        autoSpinBtn.BackgroundColor3 = colors.secondary
    end
end)

-- Bot√µes do Fly
flyToggleBtn.MouseButton1Click:Connect(function()
    toggleFly()
    if flyEnabled then
        flyToggleBtn.Text = "DESATIVAR FLY"
        flyToggleBtn.BackgroundColor3 = colors.danger
    else
        flyToggleBtn.Text = "ATIVAR FLY"
        flyToggleBtn.BackgroundColor3 = colors.secondary
    end
end)

speedMinus.MouseButton1Click:Connect(function()
    flySpeed = math.max(5, flySpeed - 2)
    speedValue.Text = tostring(flySpeed)
    speedLabel.Text = "Velocidade: " .. flySpeed
end)

speedPlus.MouseButton1Click:Connect(function()
    flySpeed = math.min(30, flySpeed + 2)
    speedValue.Text = tostring(flySpeed)
    speedLabel.Text = "Velocidade: " .. flySpeed
end)

-- Bot√µes do Bypass
bypassToggleBtn.MouseButton1Click:Connect(function()
    toggleBypass()
    if bypassActive then
        bypassToggleBtn.Text = "BYPASS ATIVO"
        bypassToggleBtn.BackgroundColor3 = colors.success
        bypassStatus.Text = "Status: Ativo - Protegido"
        bypassStatus.TextColor3 = colors.success
    else
        bypassToggleBtn.Text = "ATIVAR BYPASS"
        bypassToggleBtn.BackgroundColor3 = colors.accent2
        bypassStatus.Text = "Status: Inativo"
        bypassStatus.TextColor3 = colors.textDim
    end
end)

-- Fechar
closeBtn.MouseButton1Click:Connect(function()
    if flyConnection then
        flyConnection:Disconnect()
    end
    if spinConnection then
        spinConnection:Disconnect()
    end
    screenGui:Destroy()
end)

-- Atualiza√ß√µes autom√°ticas
task.spawn(function()
    while true do
        updateHomePage()
        task.wait(2)
    end
end)

task.spawn(function()
    while true do
        if page2.Visible then
            updateStarsList()
        end
        task.wait(3)
    end
end)

-- Inicializa√ß√£o
updateHomePage()
updateStarsList()
switchPage(1)

print("‚úÖ Stelk Hub v6.2 - Leaf Village carregado!")
print("üìå Fly corrigido | Stars: m√°ximo 6 | Mundo: Leaf Village")
