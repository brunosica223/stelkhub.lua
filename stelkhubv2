--[[
    STELK HUB - LEAF WORLD
    Vers√£o: 7.0 - PREMIUM
    - Design preto e branco com anima√ß√µes
    - Detec√ß√£o de mundo Leaf World
    - Sistema de estrelas otimizado
    - P√°gina de Mobs
    - Sem bot√µes desnecess√°rios
]]

local player = game.Players.LocalPlayer
local guiService = game:GetService("CoreGui")
local runService = game:GetService("RunService")
local tweenService = game:GetService("TweenService")
local userInputService = game:GetService("UserInputService")

-- ================ VARI√ÅVEIS ================

local bypassActive = false
local spinEnabled = false
local flySpeed = 15
local flyConnection = nil
local spinConnection = nil
local currentWorld = "Desconhecido"
local inLeafWorld = false
local gems = 0
local gold = 0
local selectedStar = nil
local stars = {}
local mobs = {}

-- ================ CORES (PRETO E BRANCO) ================

local colors = {
    background = Color3.fromRGB(10, 10, 10),      -- Preto profundo
    secondary = Color3.fromRGB(20, 20, 20),       -- Preto claro
    tertiary = Color3.fromRGB(30, 30, 30),        -- Cinza escuro
    accent = Color3.fromRGB(255, 255, 255),       -- Branco
    accent2 = Color3.fromRGB(200, 200, 200),      -- Cinza claro
    success = Color3.fromRGB(180, 180, 180),      -- Cinza para sucesso
    danger = Color3.fromRGB(100, 100, 100),       -- Cinza escuro para perigo
    warning = Color3.fromRGB(150, 150, 150),      -- Cinza m√©dio
    text = Color3.fromRGB(255, 255, 255),         -- Branco
    textDim = Color3.fromRGB(150, 150, 150)       -- Cinza
}

-- ================ DETEC√á√ÉO DE MUNDO LEAF WORLD ================

local function detectLeafWorld()
    local leafKeywords = {
        "leaf", "village", "konoha", "naruto", "hokage",
        "folha", "kakashi", "sasuke", "sakura", "chakra"
    }
    
    local found = false
    for _, obj in ipairs(workspace:GetDescendants()) do
        local name = obj.Name:lower()
        for _, kw in ipairs(leafKeywords) do
            if name:find(kw) then
                found = true
                break
            end
        end
        if found then break end
    end
    
    inLeafWorld = found
    return found and "üçÉ Leaf World" or "‚ùå Fora do Leaf World", 
           found and colors.success or colors.danger
end

-- ================ DETEC√á√ÉO DE GEMS E GOLD ================

local function getGemsAndGold()
    gems = 0
    gold = 0

    if player:FindFirstChild("leaderstats") then
        for _, child in ipairs(player.leaderstats:GetChildren()) do
            local name = child.Name:lower()
            if name:find("gem") or name:find("gema") then
                gems = child.Value or 0
            elseif name:find("gold") or name:find("coin") then
                gold = child.Value or 0
            end
        end
    end

    return gems, gold
end

-- ================ SISTEMA DE STARS (OTIMIZADO) ================

local function findStars()
    local found = {}
    
    -- S√≥ procura estrelas se estiver no Leaf World
    if not inLeafWorld then
        return found
    end
    
    -- Procura por objetos com nome "Star" ou que contenham "Star"
    for _, obj in ipairs(workspace:GetDescendants()) do
        -- Verifica nome exato "Star" ou come√ßa com "Star"
        if obj.Name == "Star" or obj.Name:sub(1,4) == "Star" then
            if obj:IsA("BasePart") or obj:IsA("Model") then
                table.insert(found, obj)
            end
        end
        
        -- Procura por ClickDetectors
        if obj:IsA("ClickDetector") and obj.Parent then
            if obj.Parent.Name == "Star" or obj.Parent.Name:sub(1,4) == "Star" then
                table.insert(found, obj.Parent)
            end
        end
        
        -- Limita a 6 estrelas
        if #found >= 6 then break end
    end
    
    return found
end

local function spinStar(star)
    if not star then return false end

    -- Tenta diferentes m√©todos de intera√ß√£o
    local detector = star:FindFirstChildOfClass("ClickDetector")
    if detector then
        fireclickdetector(detector)
        return true
    end

    local prompt = star:FindFirstChildOfClass("ProximityPrompt")
    if prompt then
        prompt:InputHoldBegin()
        task.wait(0.1)
        prompt:InputHoldEnd()
        return true
    end

    -- Se tiver RemoteEvent
    for _, child in ipairs(star:GetChildren()) do
        if child:IsA("RemoteEvent") and child.Name:lower():find("spin") then
            child:FireServer()
            return true
        end
    end

    return false
end

-- ================ SISTEMA DE MOBS ================

local function findMobs()
    local found = {}
    local mobKeywords = {
        "mob", "enemy", "npc", "boss", "monster",
        "ninja", "samurai", "bandit", "creep"
    }
    
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("Model") then
            local name = obj.Name:lower()
            for _, kw in ipairs(mobKeywords) do
                if name:find(kw) then
                    -- Verifica se tem Humanoid (√© um ser vivo)
                    if obj:FindFirstChildOfClass("Humanoid") then
                        table.insert(found, obj)
                    end
                    break
                end
            end
        end
        if #found >= 10 then break end
    end
    
    return found
end

-- ================ BYPASS ================

local function toggleBypass()
    if bypassActive then
        bypassActive = false
        return
    end

    bypassActive = true

    pcall(function()
        local mt = getrawmetatable and getrawmetatable(game) or getmetatable(game)
        if mt then
            local oldNamecall = mt.__namecall
            setreadonly(mt, false)

            mt.__namecall = newcclosure(function(self, ...)
                local method = getnamecallmethod()
                if method == "FireServer" then
                    local remoteName = tostring(self):lower()
                    if remoteName:find("anticheat") then
                        return
                    end
                end
                return oldNamecall(self, ...)
            end)
            setreadonly(mt, true)
        end
    end)
end

-- ================ CRIAR GUI (PRETO E BRANCO) ================

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "StelkHub"
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Frame principal
local mainFrame = Instance.new("Frame")
mainFrame.Parent = screenGui
mainFrame.BackgroundColor3 = colors.background
mainFrame.BorderSizePixel = 0
mainFrame.Size = UDim2.new(0, 380, 0, 480)
mainFrame.Position = UDim2.new(0.5, -190, 0.5, -240)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BackgroundTransparency = 0
mainFrame.ClipsDescendants = true

-- Cantos arredondados
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 15)
mainCorner.Parent = mainFrame

-- Borda branca
local border = Instance.new("Frame")
border.Parent = mainFrame
border.BackgroundColor3 = colors.accent
border.BackgroundTransparency = 0.8
border.Size = UDim2.new(1, 0, 0, 2)
border.Position = UDim2.new(0, 0, 0, 0)
border.BorderSizePixel = 0

-- Top Bar
local topBar = Instance.new("Frame")
topBar.Parent = mainFrame
topBar.BackgroundColor3 = colors.secondary
topBar.Size = UDim2.new(1, 0, 0, 50)
topBar.BorderSizePixel = 0

local topCorner = Instance.new("UICorner")
topCorner.CornerRadius = UDim.new(0, 15)
topCorner.Parent = topBar

-- T√≠tulo com anima√ß√£o
local title = Instance.new("TextLabel")
title.Parent = topBar
title.BackgroundTransparency = 1
title.Size = UDim2.new(0, 200, 1, 0)
title.Position = UDim2.new(0, 15, 0, 0)
title.Text = "STELK HUB"
title.TextColor3 = colors.accent
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.TextXAlignment = Enum.TextXAlignment.Left

-- Anima√ß√£o do t√≠tulo
local titleAnim = tweenService:Create(title, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
    TextColor3 = colors.textDim
})
titleAnim:Play()

-- Bot√£o fechar
local closeBtn = Instance.new("TextButton")
closeBtn.Parent = topBar
closeBtn.BackgroundColor3 = colors.tertiary
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -40, 0.5, -15)
closeBtn.Text = "‚úï"
closeBtn.TextColor3 = colors.textDim
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 16
closeBtn.BackgroundTransparency = 0

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 8)
closeCorner.Parent = closeBtn

-- Anima√ß√£o do bot√£o fechar
closeBtn.MouseEnter:Connect(function()
    tweenService:Create(closeBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.danger}):Play()
end)
closeBtn.MouseLeave:Connect(function()
    tweenService:Create(closeBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.tertiary}):Play()
end)

-- Abas
local tabFrame = Instance.new("Frame")
tabFrame.Parent = mainFrame
tabFrame.BackgroundColor3 = colors.background
tabFrame.Size = UDim2.new(1, 0, 0, 45)
tabFrame.Position = UDim2.new(0, 0, 0, 50)
tabFrame.BorderSizePixel = 0

local function createTab(name, pos)
    local btn = Instance.new("TextButton")
    btn.Parent = tabFrame
    btn.BackgroundColor3 = colors.background
    btn.Size = UDim2.new(0, 70, 0, 35)
    btn.Position = UDim2.new(0, pos, 0.5, -17.5)
    btn.Text = name
    btn.TextColor3 = colors.textDim
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.AutoButtonColor = false
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = btn
    
    -- Anima√ß√µes das abas
    btn.MouseEnter:Connect(function()
        tweenService:Create(btn, TweenInfo.new(0.2), {TextColor3 = colors.accent}):Play()
    end)
    btn.MouseLeave:Connect(function()
        if btn.TextColor3 ~= colors.accent then
            tweenService:Create(btn, TweenInfo.new(0.2), {TextColor3 = colors.textDim}):Play()
        end
    end)
    
    return btn
end

local tab1 = createTab("MUNDO", 15)
local tab2 = createTab("STARS", 95)
local tab3 = createTab("MOBS", 175)
local tab4 = createTab("BYPASS", 255)
local tab5 = createTab("SOBRE", 335)

-- Indicador de p√°gina
local pageIndicator = Instance.new("Frame")
pageIndicator.Parent = tabFrame
pageIndicator.BackgroundColor3 = colors.accent
pageIndicator.Size = UDim2.new(0, 50, 0, 2)
pageIndicator.Position = UDim2.new(0, 30, 1, -5)
pageIndicator.BorderSizePixel = 0

-- Conte√∫do
local content = Instance.new("Frame")
content.Parent = mainFrame
content.BackgroundColor3 = colors.background
content.Size = UDim2.new(1, 0, 1, -95)
content.Position = UDim2.new(0, 0, 0, 95)
content.BorderSizePixel = 0
content.ClipsDescendants = true

-- ================ P√ÅGINA 1: MUNDO ================

local page1 = Instance.new("Frame")
page1.Parent = content
page1.BackgroundTransparency = 1
page1.Size = UDim2.new(1, 0, 1, 0)
page1.Visible = true

-- Card do Mundo (com anima√ß√£o)
local worldCard = Instance.new("Frame")
worldCard.Parent = page1
worldCard.BackgroundColor3 = colors.secondary
worldCard.Size = UDim2.new(0, 340, 0, 90)
worldCard.Position = UDim2.new(0.5, -170, 0, 20)
worldCard.BackgroundTransparency = 0

local worldCorner = Instance.new("UICorner")
worldCorner.CornerRadius = UDim.new(0, 12)
worldCorner.Parent = worldCard

-- Anima√ß√£o de entrada do card
worldCard.Size = UDim2.new(0, 0, 0, 0)
worldCard.Position = UDim2.new(0.5, 0, 0, 50)
tweenService:Create(worldCard, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Size = UDim2.new(0, 340, 0, 90),
    Position = UDim2.new(0.5, -170, 0, 20)
}):Play()

local worldIcon = Instance.new("TextLabel")
worldIcon.Parent = worldCard
worldIcon.BackgroundTransparency = 1
worldIcon.Size = UDim2.new(0, 40, 1, 0)
worldIcon.Position = UDim2.new(0, 15, 0, 0)
worldIcon.Text = "üçÉ"
worldIcon.TextColor3 = colors.accent
worldIcon.Font = Enum.Font.GothamBold
worldIcon.TextSize = 35

local worldName = Instance.new("TextLabel")
worldName.Parent = worldCard
worldName.BackgroundTransparency = 1
worldName.Size = UDim2.new(0, 250, 0, 30)
worldName.Position = UDim2.new(0, 65, 0, 15)
worldName.Text = "Detectando..."
worldName.TextColor3 = colors.accent
worldName.Font = Enum.Font.GothamBold
worldName.TextSize = 18
worldName.TextXAlignment = Enum.TextXAlignment.Left

local worldStatus = Instance.new("TextLabel")
worldStatus.Parent = worldCard
worldStatus.BackgroundTransparency = 1
worldStatus.Size = UDim2.new(0, 250, 0, 25)
worldStatus.Position = UDim2.new(0, 65, 0, 45)
worldStatus.Text = "Aguardando detec√ß√£o..."
worldStatus.TextColor3 = colors.textDim
worldStatus.Font = Enum.Font.Gotham
worldStatus.TextSize = 13
worldStatus.TextXAlignment = Enum.TextXAlignment.Left

-- Card de Recursos
local resourcesCard = Instance.new("Frame")
resourcesCard.Parent = page1
resourcesCard.BackgroundColor3 = colors.secondary
resourcesCard.Size = UDim2.new(0, 340, 0, 70)
resourcesCard.Position = UDim2.new(0.5, -170, 0, 125)
resourcesCard.BackgroundTransparency = 0

local resourcesCorner = Instance.new("UICorner")
resourcesCorner.CornerRadius = UDim.new(0, 12)
resourcesCorner.Parent = resourcesCard

-- Anima√ß√£o do card de recursos
resourcesCard.Size = UDim2.new(0, 0, 0, 0)
resourcesCard.Position = UDim2.new(0.5, 0, 0, 155)
tweenService:Create(resourcesCard, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Size = UDim2.new(0, 340, 0, 70),
    Position = UDim2.new(0.5, -170, 0, 125)
}):Play()

-- Gems
local gemsFrame = Instance.new("Frame")
gemsFrame.Parent = resourcesCard
gemsFrame.BackgroundColor3 = colors.tertiary
gemsFrame.Size = UDim2.new(0, 150, 0, 45)
gemsFrame.Position = UDim2.new(0, 15, 0.5, -22.5)

local gemsCorner = Instance.new("UICorner")
gemsCorner.CornerRadius = UDim.new(0, 8)
gemsCorner.Parent = gemsFrame

local gemsIcon = Instance.new("TextLabel")
gemsIcon.Parent = gemsFrame
gemsIcon.BackgroundTransparency = 1
gemsIcon.Size = UDim2.new(0, 30, 1, 0)
gemsIcon.Position = UDim2.new(0, 8, 0, 0)
gemsIcon.Text = "üíé"
gemsIcon.TextColor3 = colors.accent
gemsIcon.Font = Enum.Font.GothamBold
gemsIcon.TextSize = 20

local gemsValue = Instance.new("TextLabel")
gemsValue.Parent = gemsFrame
gemsValue.BackgroundTransparency = 1
gemsValue.Size = UDim2.new(0, 100, 0, 25)
gemsValue.Position = UDim2.new(0, 45, 0.5, -12.5)
gemsValue.Text = "0"
gemsValue.TextColor3 = colors.accent
gemsValue.Font = Enum.Font.GothamBold
gemsValue.TextSize = 18
gemsValue.TextXAlignment = Enum.TextXAlignment.Left

-- Gold
local goldFrame = Instance.new("Frame")
goldFrame.Parent = resourcesCard
goldFrame.BackgroundColor3 = colors.tertiary
goldFrame.Size = UDim2.new(0, 150, 0, 45)
goldFrame.Position = UDim2.new(1, -165, 0.5, -22.5)

local goldCorner = Instance.new("UICorner")
goldCorner.CornerRadius = UDim.new(0, 8)
goldCorner.Parent = goldFrame

local goldIcon = Instance.new("TextLabel")
goldIcon.Parent = goldFrame
goldIcon.BackgroundTransparency = 1
goldIcon.Size = UDim2.new(0, 30, 1, 0)
goldIcon.Position = UDim2.new(0, 8, 0, 0)
goldIcon.Text = "ü™ô"
goldIcon.TextColor3 = colors.accent
goldIcon.Font = Enum.Font.GothamBold
goldIcon.TextSize = 20

local goldValue = Instance.new("TextLabel")
goldValue.Parent = goldFrame
goldValue.BackgroundTransparency = 1
goldValue.Size = UDim2.new(0, 100, 0, 25)
goldValue.Position = UDim2.new(0, 45, 0.5, -12.5)
goldValue.Text = "0"
goldValue.TextColor3 = colors.accent
goldValue.Font = Enum.Font.GothamBold
goldValue.TextSize = 18
goldValue.TextXAlignment = Enum.TextXAlignment.Left

-- Aviso do Leaf World
local worldWarning = Instance.new("TextLabel")
worldWarning.Parent = page1
worldWarning.BackgroundTransparency = 1
worldWarning.Size = UDim2.new(0, 340, 0, 30)
worldWarning.Position = UDim2.new(0.5, -170, 0, 210)
worldWarning.Text = "‚≠ê Estrelas dispon√≠veis apenas no Leaf World"
worldWarning.TextColor3 = colors.textDim
worldWarning.Font = Enum.Font.Gotham
worldWarning.TextSize = 12

-- ================ P√ÅGINA 2: STARS ================

local page2 = Instance.new("Frame")
page2.Parent = content
page2.BackgroundTransparency = 1
page2.Size = UDim2.new(1, 0, 1, 0)
page2.Visible = false

local starsTitle = Instance.new("TextLabel")
starsTitle.Parent = page2
starsTitle.BackgroundTransparency = 1
starsTitle.Size = UDim2.new(1, -20, 0, 35)
starsTitle.Position = UDim2.new(0, 10, 0, 10)
starsTitle.Text = "‚≠ê SISTEMA DE STARS"
starsTitle.TextColor3 = colors.accent
starsTitle.Font = Enum.Font.GothamBold
starsTitle.TextSize = 20
starsTitle.TextXAlignment = Enum.TextXAlignment.Left

-- Status do mundo
local worldStatusStars = Instance.new("TextLabel")
worldStatusStars.Parent = page2
worldStatusStars.BackgroundTransparency = 1
worldStatusStars.Size = UDim2.new(1, -20, 0, 20)
worldStatusStars.Position = UDim2.new(0, 10, 0, 45)
worldStatusStars.Text = "Verificando mundo..."
worldStatusStars.TextColor3 = colors.textDim
worldStatusStars.Font = Enum.Font.Gotham
worldStatusStars.TextSize = 12
worldStatusStars.TextXAlignment = Enum.TextXAlignment.Left

-- Lista de Stars
local starsList = Instance.new("TextLabel")
starsList.Parent = page2
starsList.BackgroundColor3 = colors.secondary
starsList.Size = UDim2.new(0, 340, 0, 150)
starsList.Position = UDim2.new(0.5, -170, 0, 75)
starsList.Text = "Aguardando detec√ß√£o...\n\nEntre no Leaf World para ver as Stars"
starsList.TextColor3 = colors.textDim
starsList.Font = Enum.Font.Gotham
starsList.TextSize = 13
starsList.TextWrapped = true
starsList.TextXAlignment = Enum.TextXAlignment.Left
starsList.TextYAlignment = Enum.TextYAlignment.Top

local starsCorner = Instance.new("UICorner")
starsCorner.CornerRadius = UDim.new(0, 12)
starsCorner.Parent = starsList

-- Bot√µes
local refreshStarsBtn = Instance.new("TextButton")
refreshStarsBtn.Parent = page2
refreshStarsBtn.BackgroundColor3 = colors.tertiary
refreshStarsBtn.Size = UDim2.new(0, 100, 0, 35)
refreshStarsBtn.Position = UDim2.new(0.5, -155, 0, 240)
refreshStarsBtn.Text = "üîÑ ATUALIZAR"
refreshStarsBtn.TextColor3 = colors.text
refreshStarsBtn.Font = Enum.Font.GothamBold
refreshStarsBtn.TextSize = 11

local refreshCorner = Instance.new("UICorner")
refreshCorner.CornerRadius = UDim.new(0, 8)
refreshCorner.Parent = refreshStarsBtn

-- Anima√ß√£o bot√£o atualizar
refreshStarsBtn.MouseEnter:Connect(function()
    tweenService:Create(refreshStarsBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.accent}):Play()
end)
refreshStarsBtn.MouseLeave:Connect(function()
    tweenService:Create(refreshStarsBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.tertiary}):Play()
end)

local spinStarBtn = Instance.new("TextButton")
spinStarBtn.Parent = page2
spinStarBtn.BackgroundColor3 = colors.tertiary
spinStarBtn.Size = UDim2.new(0, 100, 0, 35)
spinStarBtn.Position = UDim2.new(0.5, -50, 0, 240)
spinStarBtn.Text = "üéØ GIRAR #1"
spinStarBtn.TextColor3 = colors.text
spinStarBtn.Font = Enum.Font.GothamBold
spinStarBtn.TextSize = 11

local spinCorner = Instance.new("UICorner")
spinCorner.CornerRadius = UDim.new(0, 8)
spinCorner.Parent = spinStarBtn

spinStarBtn.MouseEnter:Connect(function()
    tweenService:Create(spinStarBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.accent}):Play()
end)
spinStarBtn.MouseLeave:Connect(function()
    tweenService:Create(spinStarBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.tertiary}):Play()
end)

local autoSpinBtn = Instance.new("TextButton")
autoSpinBtn.Parent = page2
autoSpinBtn.BackgroundColor3 = colors.tertiary
autoSpinBtn.Size = UDim2.new(0, 100, 0, 35)
autoSpinBtn.Position = UDim2.new(0.5, 55, 0, 240)
autoSpinBtn.Text = "‚ö° AUTO SPIN"
autoSpinBtn.TextColor3 = colors.text
autoSpinBtn.Font = Enum.Font.GothamBold
autoSpinBtn.TextSize = 11

local autoCorner = Instance.new("UICorner")
autoCorner.CornerRadius = UDim.new(0, 8)
autoCorner.Parent = autoSpinBtn

autoSpinBtn.MouseEnter:Connect(function()
    tweenService:Create(autoSpinBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.accent}):Play()
end)
autoSpinBtn.MouseLeave:Connect(function()
    tweenService:Create(autoSpinBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.tertiary}):Play()
end)

local starInfo = Instance.new("TextLabel")
starInfo.Parent = page2
starInfo.BackgroundColor3 = colors.secondary
starInfo.Size = UDim2.new(0, 340, 0, 40)
starInfo.Position = UDim2.new(0.5, -170, 0, 290)
starInfo.Text = "Selecione uma Star para girar"
starInfo.TextColor3 = colors.textDim
starInfo.Font = Enum.Font.Gotham
starInfo.TextSize = 12

local infoCorner = Instance.new("UICorner")
infoCorner.CornerRadius = UDim.new(0, 8)
infoCorner.Parent = starInfo

-- ================ P√ÅGINA 3: MOBS ================

local page3 = Instance.new("Frame")
page3.Parent = content
page3.BackgroundTransparency = 1
page3.Size = UDim2.new(1, 0, 1, 0)
page3.Visible = false

local mobsTitle = Instance.new("TextLabel")
mobsTitle.Parent = page3
mobsTitle.BackgroundTransparency = 1
mobsTitle.Size = UDim2.new(1, -20, 0, 35)
mobsTitle.Position = UDim2.new(0, 10, 0, 10)
mobsTitle.Text = "üëæ MOBS PR√ìXIMOS"
mobsTitle.TextColor3 = colors.accent
mobsTitle.Font = Enum.Font.GothamBold
mobsTitle.TextSize = 20
mobsTitle.TextXAlignment = Enum.TextXAlignment.Left

-- Lista de Mobs
local mobsList = Instance.new("TextLabel")
mobsList.Parent = page3
mobsList.BackgroundColor3 = colors.secondary
mobsList.Size = UDim2.new(0, 340, 0, 200)
mobsList.Position = UDim2.new(0.5, -170, 0, 55)
mobsList.Text = "Procurando mobs pr√≥ximos...\n\nAguardando detec√ß√£o..."
mobsList.TextColor3 = colors.textDim
mobsList.Font = Enum.Font.Gotham
mobsList.TextSize = 13
mobsList.TextWrapped = true
mobsList.TextXAlignment = Enum.TextXAlignment.Left
mobsList.TextYAlignment = Enum.TextYAlignment.Top

local mobsCorner = Instance.new("UICorner")
mobsCorner.CornerRadius = UDim.new(0, 12)
mobsCorner.Parent = mobsList

-- Bot√£o atualizar mobs
local refreshMobsBtn = Instance.new("TextButton")
refreshMobsBtn.Parent = page3
refreshMobsBtn.BackgroundColor3 = colors.tertiary
refreshMobsBtn.Size = UDim2.new(0, 150, 0, 35)
refreshMobsBtn.Position = UDim2.new(0.5, -75, 0, 270)
refreshMobsBtn.Text = "üîÑ ATUALIZAR MOBS"
refreshMobsBtn.TextColor3 = colors.text
refreshMobsBtn.Font = Enum.Font.GothamBold
refreshMobsBtn.TextSize = 11

local refreshMobsCorner = Instance.new("UICorner")
refreshMobsCorner.CornerRadius = UDim.new(0, 8)
refreshMobsCorner.Parent = refreshMobsBtn

refreshMobsBtn.MouseEnter:Connect(function()
    tweenService:Create(refreshMobsBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.accent}):Play()
end)
refreshMobsBtn.MouseLeave:Connect(function()
    tweenService:Create(refreshMobsBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.tertiary}):Play()
end)

-- ================ P√ÅGINA 4: BYPASS ================

local page4 = Instance.new("Frame")
page4.Parent = content
page4.BackgroundTransparency = 1
page4.Size = UDim2.new(1, 0, 1, 0)
page4.Visible = false

local bypassTitle = Instance.new("TextLabel")
bypassTitle.Parent = page4
bypassTitle.BackgroundTransparency = 1
bypassTitle.Size = UDim2.new(1, -20, 0, 35)
bypassTitle.Position = UDim2.new(0, 10, 0, 10)
bypassTitle.Text = "üõ°Ô∏è BYPASS"
bypassTitle.TextColor3 = colors.accent
bypassTitle.Font = Enum.Font.GothamBold
bypassTitle.TextSize = 20
bypassTitle.TextXAlignment = Enum.TextXAlignment.Left

local bypassCard = Instance.new("Frame")
bypassCard.Parent = page4
bypassCard.BackgroundColor3 = colors.secondary
bypassCard.Size = UDim2.new(0, 340, 0, 150)
bypassCard.Position = UDim2.new(0.5, -170, 0, 55)

local bypassCardCorner = Instance.new("UICorner")
bypassCardCorner.CornerRadius = UDim.new(0, 12)
bypassCardCorner.Parent = bypassCard

local bypassInfo = Instance.new("TextLabel")
bypassInfo.Parent = bypassCard
bypassInfo.BackgroundTransparency = 1
bypassInfo.Size = UDim2.new(1, -20, 0, 80)
bypassInfo.Position = UDim2.new(0, 10, 0, 10)
bypassInfo.Text = "‚úì Bloqueia detec√ß√£o de anti-cheat\n‚úì Prote√ß√£o contra kick\n‚úì Desativa remotes suspeitos"
bypassInfo.TextColor3 = colors.textDim
bypassInfo.Font = Enum.Font.Gotham
bypassInfo.TextSize = 13
bypassInfo.TextXAlignment = Enum.TextXAlignment.Left

local bypassToggleBtn = Instance.new("TextButton")
bypassToggleBtn.Parent = bypassCard
bypassToggleBtn.BackgroundColor3 = colors.tertiary
bypassToggleBtn.Size = UDim2.new(0, 150, 0, 40)
bypassToggleBtn.Position = UDim2.new(0.5, -75, 0, 100)
bypassToggleBtn.Text = "ATIVAR BYPASS"
bypassToggleBtn.TextColor3 = colors.text
bypassToggleBtn.Font = Enum.Font.GothamBold
bypassToggleBtn.TextSize = 12

local bypassToggleCorner = Instance.new("UICorner")
bypassToggleCorner.CornerRadius = UDim.new(0, 8)
bypassToggleCorner.Parent = bypassToggleBtn

bypassToggleBtn.MouseEnter:Connect(function()
    tweenService:Create(bypassToggleBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.accent}):Play()
end)
bypassToggleBtn.MouseLeave:Connect(function()
    tweenService:Create(bypassToggleBtn, TweenInfo.new(0.2), {BackgroundColor3 = colors.tertiary}):Play()
end)

local bypassStatus = Instance.new("TextLabel")
bypassStatus.Parent = bypassCard
bypassStatus.BackgroundColor3 = colors.tertiary
bypassStatus.Size = UDim2.new(0, 300, 0, 30)
bypassStatus.Position = UDim2.new(0.5, -150, 0, 150)
bypassStatus.Text = "Status: Inativo"
bypassStatus.TextColor3 = colors.textDim
bypassStatus.Font = Enum.Font.Gotham
bypassStatus.TextSize = 12

local bypassStatusCorner = Instance.new("UICorner")
bypassStatusCorner.CornerRadius = UDim.new(0, 8)
bypassStatusCorner.Parent = bypassStatus

-- ================ P√ÅGINA 5: SOBRE ================

local page5 = Instance.new("Frame")
page5.Parent = content
page5.BackgroundTransparency = 1
page5.Size = UDim2.new(1, 0, 1, 0)
page5.Visible = false

local aboutTitle = Instance.new("TextLabel")
aboutTitle.Parent = page5
aboutTitle.BackgroundTransparency = 1
aboutTitle.Size = UDim2.new(1, -20, 0, 35)
aboutTitle.Position = UDim2.new(0, 10, 0, 10)
aboutTitle.Text = "üëë SOBRE"
aboutTitle.TextColor3 = colors.accent
aboutTitle.Font = Enum.Font.GothamBold
aboutTitle.TextSize = 20
aboutTitle.TextXAlignment = Enum.TextXAlignment.Left

local aboutCard = Instance.new("Frame")
aboutCard.Parent = page5
aboutCard.BackgroundColor3 = colors.secondary
aboutCard.Size = UDim2.new(0, 340, 0, 200)
aboutCard.Position = UDim2.new(0.5, -170, 0, 55)

local aboutCardCorner = Instance.new("UICorner")
aboutCardCorner.CornerRadius = UDim.new(0, 12)
aboutCardCorner.Parent = aboutCard

local aboutText = Instance.new("TextLabel")
aboutText.Parent = aboutCard
aboutText.BackgroundTransparency = 1
aboutText.Size = UDim2.new(1, -20, 0, 80)
aboutText.Position = UDim2.new(0, 10, 0, 10)
aboutText.Text = "STELK HUB\nVers√£o 7.0 - Leaf World Edition\n\nCriado por Stelk\nFevereiro 2026"
aboutText.TextColor3 = colors.textDim
aboutText.Font = Enum.Font.Gotham
aboutText.TextSize = 14
aboutText.TextXAlignment = Enum.TextXAlignment.Left

local creditsLine = Instance.new("Frame")
creditsLine.Parent = aboutCard
creditsLine.BackgroundColor3 = colors.accent
creditsLine.Size = UDim2.new(0, 300, 0, 1)
creditsLine.Position = UDim2.new(0.5, -150, 0, 120)
creditsLine.BackgroundTransparency = 0.5

local discordText = Instance.new("TextLabel")
discordText.Parent = aboutCard
discordText.BackgroundTransparency = 1
discordText.Size = UDim2.new(1, 0, 0, 30)
discordText.Position = UDim2.new(0, 0, 0, 140)
discordText.Text = "üì± Discord: stelk_dev"
discordText.TextColor3 = colors.textDim
discordText.Font = Enum.Font.Gotham
discordText.TextSize = 13

-- ================ FUN√á√ïES DE NAVEGA√á√ÉO ================

local function switchPage(page)
    page1.Visible = (page == 1)
    page2.Visible = (page == 2)
    page3.Visible = (page == 3)
    page4.Visible = (page == 4)
    page5.Visible = (page == 5)

    local positions = {30, 110, 190, 270, 350}
    tweenService:Create(pageIndicator, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Position = UDim2.new(0, positions[page], 1, -5)
    }):Play()

    local tabs = {tab1, tab2, tab3, tab4, tab5}
    for i = 1, 5 do
        if i == page then
            tweenService:Create(tabs[i], TweenInfo.new(0.3), {TextColor3 = colors.accent}):Play()
        else
            tweenService:Create(tabs[i], TweenInfo.new(0.3), {TextColor3 = colors.textDim}):Play()
        end
    end
end

tab1.MouseButton1Click:Connect(function() switchPage(1) end)
tab2.MouseButton1Click:Connect(function() switchPage(2) end)
tab3.MouseButton1Click:Connect(function() switchPage(3) end)
tab4.MouseButton1Click:Connect(function() switchPage(4) end)
tab5.MouseButton1Click:Connect(function() switchPage(5) end)

-- ================ FUN√á√ïES DOS BOT√ïES ================

local function updateWorldInfo()
    local world, color = detectLeafWorld()
    worldName.Text = world
    worldName.TextColor3 = color
    
    if inLeafWorld then
        worldStatus.Text = "‚úÖ Voc√™ est√° no Leaf World"
        worldStatus.TextColor3 = colors.success
    else
        worldStatus.Text = "‚ùå Fora do Leaf World - Estrelas indispon√≠veis"
        worldStatus.TextColor3 = colors.danger
    end
    
    gems, gold = getGemsAndGold()
    gemsValue.Text = tostring(gems)
    goldValue.Text = tostring(gold)
    
    -- Atualiza status na p√°gina de stars
    if inLeafWorld then
        worldStatusStars.Text = "‚úÖ Leaf World detectado - Estrelas dispon√≠veis"
        worldStatusStars.TextColor3 = colors.success
    else
        worldStatusStars.Text = "‚ùå Fora do Leaf World - Entre no Leaf World para ver as Stars"
        worldStatusStars.TextColor3 = colors.danger
    end
end

local function updateStarsList()
    if not inLeafWorld then
        starsList.Text = "üö´ FORA DO LEAF WORLD\n\nEntre no Leaf World para ver as Stars dispon√≠veis"
        starsList.TextColor3 = colors.danger
        return
    end
    
    stars = findStars()
    local text = "STARS ENCONTRADAS: " .. #stars .. "/6\n\n"
    
    if #stars == 0 then
        text = text .. "Nenhuma Star encontrada no Leaf World.\n\nTente:\n- Se aproximar da √°rea das Stars\n- Usar o bot√£o ATUALIZAR"
    else
        for i, star in ipairs(stars) do
            local dist = "?"
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local root = player.Character.HumanoidRootPart
                dist = math.floor((root.Position - star.Position).Magnitude) .. "m"
            end
            text = text .. i .. ". " .. star.Name .. " [" .. dist .. "]\n"
        end
        selectedStar = stars[1]
        spinStarBtn.Text = "üéØ GIRAR " .. stars[1].Name
        starInfo.Text = "Selecionada: " .. stars[1].Name
    end
    
    starsList.Text = text
    starsList.TextColor3 = colors.textDim
end

local function updateMobsList()
    mobs = findMobs()
    local text = "MOBS PR√ìXIMOS: " .. #mobs .. "\n\n"
    
    if #mobs == 0 then
        text = text .. "Nenhum mob encontrado nas proximidades."
    else
        for i, mob in ipairs(mobs) do
            local dist = "?"
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local root = player.Character.HumanoidRootPart
                if mob:FindFirstChild("HumanoidRootPart") then
                    local mobRoot = mob:FindFirstChild("HumanoidRootPart")
                    dist = math.floor((root.Position - mobRoot.Position).Magnitude) .. "m"
                end
            end
            local health = "?"
            if mob:FindFirstChildOfClass("Humanoid") then
                health = math.floor(mob:FindFirstChildOfClass("Humanoid").Health) .. " HP"
            end
            text = text .. i .. ". " .. mob.Name .. " [" .. dist .. "] " .. health .. "\n"
        end
    end
    
    mobsList.Text = text
end

-- Conectar bot√µes
refreshStarsBtn.MouseButton1Click:Connect(updateStarsList)
refreshMobsBtn.MouseButton1Click:Connect(updateMobsList)

spinStarBtn.MouseButton1Click:Connect(function()
    if not inLeafWorld then
        starsList.Text = "üö´ FORA DO LEAF WORLD\n\nN√£o √© poss√≠vel girar Stars fora do Leaf World"
        return
    end
    
    if selectedStar and selectedStar.Parent then
        if spinStar(selectedStar) then
            starsList.Text = "‚úÖ GIRADO: " .. selectedStar.Name .. "\n\n" .. starsList.Text
            -- Anima√ß√£o de sucesso
            tweenService:Create(spinStarBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.success}):Play()
            task.wait(0.3)
            tweenService:Create(spinStarBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.tertiary}):Play()
        else
            starsList.Text = "‚ùå FALHOU: " .. selectedStar.Name .. "\n\n" .. starsList.Text
            tweenService:Create(spinStarBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.danger}):Play()
            task.wait(0.3)
            tweenService:Create(spinStarBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.tertiary}):Play()
        end
    else
        updateStarsList()
    end
end)

autoSpinBtn.MouseButton1Click:Connect(function()
    if not inLeafWorld then
        starsList.Text = "üö´ FORA DO LEAF WORLD\n\nAuto Spin s√≥ funciona no Leaf World"
        return
    end
    
    spinEnabled = not spinEnabled
    if spinEnabled then
        autoSpinBtn.Text = "‚èπÔ∏è PARAR SPIN"
        tweenService:Create(autoSpinBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.danger}):Play()

        task.spawn(function()
            while spinEnabled do
                if not inLeafWorld then
                    spinEnabled = false
                    autoSpinBtn.Text = "‚ö° AUTO SPIN"
                    tweenService:Create(autoSpinBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.tertiary}):Play()
                    break
                end
                
                local currentStars = findStars()
                for _, star in ipairs(currentStars) do
                    spinStar(star)
                    task.wait(0.3)
                end
                task.wait(0.5)
            end
        end)
    else
        autoSpinBtn.Text = "‚ö° AUTO SPIN"
        tweenService:Create(autoSpinBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.tertiary}):Play()
    end
end)

-- Bypass
bypassToggleBtn.MouseButton1Click:Connect(function()
    toggleBypass()
    if bypassActive then
        bypassToggleBtn.Text = "BYPASS ATIVO"
        tweenService:Create(bypassToggleBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.success}):Play()
        bypassStatus.Text = "Status: Ativo - Protegido"
        bypassStatus.TextColor3 = colors.success
    else
        bypassToggleBtn.Text = "ATIVAR BYPASS"
        tweenService:Create(bypassToggleBtn, TweenInfo.new(0.3), {BackgroundColor3 = colors.tertiary}):Play()
        bypassStatus.Text = "Status: Inativo"
        bypassStatus.TextColor3 = colors.textDim
    end
end)

-- Fechar
closeBtn.MouseButton1Click:Connect(function()
    if spinConnection then
        spinConnection:Disconnect()
    end
    -- Anima√ß√£o de sa√≠da
    tweenService:Create(mainFrame, TweenInfo.new(0.3), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0)
    }):Play()
    task.wait(0.3)
    screenGui:Destroy()
end)

-- Atualiza√ß√µes autom√°ticas
task.spawn(function()
    while true do
        updateWorldInfo()
        if page2.Visible and inLeafWorld then
            updateStarsList()
        end
        task.wait(2)
    end
end)

task.spawn(function()
    while true do
        if page3.Visible then
            updateMobsList()
        end
        task.wait(3)
    end
end)

-- Inicializa√ß√£o
updateWorldInfo()
updateStarsList()
updateMobsList()
switchPage(1)

print("‚úÖ Stelk Hub v7.0 - Leaf World Edition carregado!")
